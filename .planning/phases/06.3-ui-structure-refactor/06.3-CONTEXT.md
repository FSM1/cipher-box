# Phase 6.3: UI Structure Refactor - Context

**Gathered:** 2026-01-30
**Status:** Ready for planning

<domain>

## Phase Boundary

Complete structural redesign of page layouts, component hierarchy, toolbars, and navigation. This phase changes HOW the UI is organized — not styling (that was 6.2), but structure: page layout composition, toolbar placement and behavior, navigation patterns, and component hierarchy.

</domain>

<decisions>

## Implementation Decisions

- **App Shell Layout:** Fixed app shell with header, sidebar, and footer all fixed position. Only the file content area scrolls. Three main zones: Header (top), Main (sidebar + content), Footer (bottom).
- **Header Structure:** Separate header zone (not merged with toolbar). Contains logo (`> CIPHERBOX`) and user menu dropdown. Dropdown triggered by hover, contains settings and logout. Status indicator moved to footer.
- **Sidebar Composition:** Sidebar is app-level navigation, NOT a folder tree (major change). Navigation items: Files (current view), Settings. Storage quota indicator anchored at bottom. Sidebar collapsible to icons only.
- **Toolbar Organization:** Breadcrumbs on left, actions on right. Actions: New Folder button + Refresh button. Upload button removed — users upload via drag-and-drop dropzone only. Separation via subtle background color difference (no hard border).
- **Folder Navigation:** Double-click folders in file list to navigate into them. Parent folder item `[..] PARENT_DIR` displayed in all non-root folders (empty Size/Modified columns). Browser history integration — back button works. Breadcrumbs show current path in toolbar.
- **File List Structure:** List view only (no grid). Columns: Name, Size, Modified. Column headers wrapped in brackets: `[NAME]`, `[SIZE]`, `[MODIFIED]`. Clickable headers for sorting. Files and folders same brightness (#00D084). Illustrated empty state with terminal-style ASCII art.
- **Footer Structure:** Fixed footer at bottom. Layout: Copyright (left) | Links (center) | Status (right). Copyright: `© 2026 CipherBox`. Links: `[help] [privacy] [terms] [github]`. Status: `● [CONNECTED]` with glow effect.
- **Claude's Discretion:** Exact ASCII art for empty state. Collapsed sidebar icon designs. Hover animations for user dropdown. Exact spacing/padding within established patterns.

</decisions>

<specifics>

## Specific Ideas

- Terminal aesthetic maintained — brackets `[]` around interactive elements
- Folder tree completely removed in favor of in-place navigation (click to enter, `[..]` to go up)
- The `[..] PARENT_DIR` row style — same as other entries but with empty size/date columns
- Storage quota bar at sidebar bottom with progress indicator
- Footer links subtle (dark green) while status indicator is bright green

</specifics>

<deferred>

## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

## Approved Design

Design mockup created in `designs/cipher-box-design.pen` (frame: "Phase 6.3 - Unified Structure Mockup", ID: nRzxj, canvas position x: 3890).

---

_Phase: 06.3-ui-structure-refactor_
_Context gathered: 2026-01-30_
