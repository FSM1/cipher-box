# Phase 6.3: UI Structure Refactor - Context

**Gathered:** 2026-01-30
**Status:** Ready for planning

<domain>
## Phase Boundary

Complete structural redesign of page layouts, component hierarchy, toolbars, and navigation. This phase changes HOW the UI is organized — not styling (that was 6.2), but structure: page layout composition, toolbar placement and behavior, navigation patterns, and component hierarchy.

</domain>

<decisions>
## Implementation Decisions

### App Shell Layout

- Fixed app shell — header, sidebar, footer all fixed position
- Only the file content area scrolls
- Three main zones: Header (top), Main (sidebar + content), Footer (bottom)

### Header Structure

- Separate header zone (not merged with toolbar)
- Contains: Logo (`> CIPHERBOX`) + user menu dropdown
- User dropdown triggered by hover
- Dropdown contains: settings, logout
- Status indicator moved to footer

### Sidebar Composition

- **Major change:** Sidebar is app-level navigation, NOT a folder tree
- Navigation items: Files (current view), Settings
- Storage quota indicator anchored at bottom of sidebar
- Sidebar collapsible to icons only (Files icon, Settings icon, storage visible)

### Toolbar Organization

- Layout: Breadcrumbs on left, actions on right
- Actions: New Folder button + Refresh button
- Upload button removed — users upload via drag-and-drop dropzone only
- Separation: Subtle background color difference (no hard border line)

### Folder Navigation (no folder tree)

- Double-click folders in file list to navigate into them
- Parent folder item `[..] PARENT_DIR` displayed in all non-root folders
- Parent folder row has empty Size/Modified columns
- Browser history integration — back button works for navigation
- Breadcrumbs show current path in toolbar

### File List Structure

- List view only — no grid or alternative views
- Columns: Name, Size, Modified (standard layout)
- Column headers wrapped in brackets: `[NAME]`, `[SIZE]`, `[MODIFIED]`
- Clickable column headers for sorting (with sort indicator arrow)
- Files and folders same brightness color (#00D084)
- Illustrated empty state (terminal-style ASCII art with helpful text)

### Footer Structure

- Fixed footer at bottom of app
- Layout: Copyright (left) | Links (center) | Status (right)
- Copyright: `© 2026 CipherBox`
- Links: `[help] [privacy] [terms] [github]`
- Status indicator: `● [CONNECTED]` with glow effect

### Claude's Discretion

- Exact ASCII art for empty state illustration
- Collapsed sidebar icon designs
- Hover state animations for user dropdown
- Exact spacing and padding values within established patterns

</decisions>

<specifics>
## Specific Ideas

- Terminal aesthetic maintained — brackets `[]` around interactive elements
- Folder tree completely removed in favor of in-place navigation (click to enter, `[..]` to go up)
- The `[..] PARENT_DIR` row style — not italic, same as other entries but dimmer columns
- Storage quota bar at sidebar bottom with progress indicator
- Footer links should be subtle (dark green) while status indicator is bright green

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

### Approved Design

**Frame:** Phase 6.3 - Unified Structure Mockup (ID: nRzxj)
**Location:** `designs/cipher-box-design.pen`
**Canvas position:** Right side of existing designs (x: 3890)

The approved mockup shows:

- Header with logo and hover-triggered user dropdown
- Sidebar with Files/Settings nav and storage quota
- Toolbar with breadcrumbs and +folder/refresh buttons
- File list with sortable bracketed headers
- Parent folder row `[..] PARENT_DIR`
- Footer with copyright, links, and status indicator

---

_Phase: 06.3-ui-structure-refactor_
_Context gathered: 2026-01-30_
