---
phase: 06.2-restyle-app-pencil-design
plan: 02
type: execute
wave: 2
depends_on: ["06.2-01"]
files_modified:
  - apps/web/src/styles/file-browser.css
  - apps/web/src/styles/breadcrumbs.css
autonomous: true

must_haves:
  truths:
    - "File browser sidebar has green border on right edge"
    - "File list shows green column headers (NAME, SIZE, TYPE, MODIFIED)"
    - "File list items have green text and dim green borders between rows"
    - "Breadcrumbs display terminal-style path navigation"
    - "Folder tree items highlight with green on hover/active"
  artifacts:
    - path: "apps/web/src/styles/file-browser.css"
      provides: "Terminal-styled file browser layout"
      contains: "var(--color-green-primary)"
    - path: "apps/web/src/styles/breadcrumbs.css"
      provides: "Terminal-styled breadcrumb navigation"
      contains: "var(--color-text-primary)"
  key_links:
    - from: "apps/web/src/styles/file-browser.css"
      to: "apps/web/src/index.css"
      via: "CSS variable references"
      pattern: "var\\(--color-|var\\(--font-|var\\(--spacing-"
---

<objective>
Restyle the file browser layout, sidebar, file list, and breadcrumbs to match terminal aesthetic.

Purpose: The file browser is the main UI users interact with. This plan transforms it from the current gray/white theme to the green-on-black terminal design specified in the Pencil design file.

Output: Terminal-styled file browser with green borders, monospace text, and proper design token usage.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-CONTEXT.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-RESEARCH.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle file-browser.css with terminal aesthetic</name>
  <files>apps/web/src/styles/file-browser.css</files>
  <action>
Replace the entire file-browser.css with terminal-styled version using design tokens.

```css
/**
 * File Browser Component Styles - Terminal Aesthetic
 *
 * Styling for the file browser UI including:
 * - Main layout (sidebar + content)
 * - Folder tree navigation
 * - File list with columns
 * - Empty state drop zone
 */

/* ==========================================================================
   File Browser Layout
   ========================================================================== */

.file-browser {
  display: flex;
  flex: 1;
  min-height: 0;
  background-color: var(--color-background);
}

.file-browser-sidebar {
  width: 250px;
  min-width: 200px;
  max-width: 350px;
  border-right: var(--border-thickness) solid var(--color-border);
  overflow-y: auto;
  background-color: var(--color-background);
}

.file-browser-main {
  flex: 1;
  min-width: 0;
  overflow-y: auto;
  padding: var(--spacing-md);
  background-color: var(--color-background);
}

.file-browser-toolbar {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding-bottom: var(--spacing-md);
  border-bottom: var(--border-thickness) solid var(--color-border-dim);
  margin-bottom: var(--spacing-md);
}

/* Toolbar buttons - Terminal flag style */
.file-browser-toolbar button,
.toolbar-button {
  padding: var(--spacing-xs) var(--spacing-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-normal);
  border-radius: 0;
  cursor: pointer;
  transition: box-shadow 0.15s ease;
}

/* Primary action button (--upload) */
.toolbar-button--primary,
.file-browser-toolbar .btn-primary {
  background-color: var(--color-green-primary);
  color: var(--color-black);
  border: none;
  font-weight: var(--font-weight-semibold);
}

.toolbar-button--primary:hover,
.file-browser-toolbar .btn-primary:hover {
  box-shadow: var(--glow-green);
}

/* Secondary action buttons (--new-dir, --refresh) */
.toolbar-button--secondary,
.file-browser-toolbar .btn-secondary {
  background-color: transparent;
  color: var(--color-text-primary);
  border: var(--border-thickness) solid var(--color-border);
}

.toolbar-button--secondary:hover,
.file-browser-toolbar .btn-secondary:hover {
  box-shadow: var(--glow-green);
}

.file-browser-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 200px;
  color: var(--color-text-secondary);
  font-family: var(--font-family-mono);
}

.file-browser-loading-spinner {
  font-size: var(--font-size-sm);
}

/* ==========================================================================
   Folder Tree
   ========================================================================== */

.folder-tree {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.folder-tree-header {
  padding: var(--spacing-md);
  border-bottom: var(--border-thickness) solid var(--color-border-dim);
}

.folder-tree-title {
  margin: 0;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-text-secondary);
}

.folder-tree-content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-xs) 0;
}

.folder-tree-placeholder {
  padding: var(--spacing-md);
  color: var(--color-text-secondary);
  font-style: normal;
  font-size: var(--font-size-sm);
}

/* Folder Tree Node */
.folder-tree-node {
  user-select: none;
}

.folder-tree-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  cursor: pointer;
  transition: background-color 0.15s ease;
  border-radius: 0;
  margin: 0 var(--spacing-xs);
  border-left: 2px solid transparent;
}

.folder-tree-item:hover {
  background-color: var(--color-green-darker);
  border-left-color: var(--color-green-dim);
}

.folder-tree-item--active {
  background-color: var(--color-green-darker);
  border-left-color: var(--color-green-primary);
}

.folder-tree-item--active:hover {
  background-color: var(--color-green-darker);
}

.folder-tree-item--drag-over {
  background-color: var(--color-green-darker);
  border-left-color: var(--color-green-primary);
  box-shadow: inset 0 0 0 1px var(--color-green-dim);
}

.folder-tree-toggle {
  width: 16px;
  flex-shrink: 0;
  font-size: 10px;
  color: var(--color-text-secondary);
  cursor: pointer;
}

.folder-tree-toggle--hidden {
  visibility: hidden;
}

.folder-tree-icon {
  font-size: var(--font-size-sm);
  flex-shrink: 0;
  color: var(--color-text-primary);
}

.folder-tree-name {
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
}

.folder-tree-loading {
  color: var(--color-text-secondary);
  font-size: var(--font-size-xs);
  margin-left: auto;
}

/* ==========================================================================
   File List
   ========================================================================== */

.file-list {
  display: flex;
  flex-direction: column;
  border: var(--border-thickness) solid var(--color-border);
}

.file-list-header {
  display: grid;
  grid-template-columns: 1fr 120px 120px 180px;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: var(--border-thickness) solid var(--color-border);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-text-primary);
  background-color: var(--color-background);
}

.file-list-body {
  /* Container for file items */
}

/* File List Item - Desktop uses grid, Mobile uses 2-row stacked layout */
.file-list-item {
  display: grid;
  grid-template-columns: 1fr 120px 120px 180px;
  grid-template-areas: "name size type date";
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  transition: background-color 0.15s ease;
  border-bottom: var(--border-thickness) solid var(--color-border-dim);
  font-family: var(--font-family-mono);
}

.file-list-item:last-child {
  border-bottom: none;
}

.file-list-item:hover {
  background-color: var(--color-green-darker);
}

.file-list-item--selected {
  background-color: var(--color-green-darker);
  border-left: 2px solid var(--color-green-primary);
}

.file-list-item--selected:hover {
  background-color: var(--color-green-darker);
}

/* Row wrappers - on desktop, these act as containers within grid */
.file-list-item-row-top {
  grid-area: name;
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.file-list-item-row-bottom {
  display: contents; /* Children participate directly in parent grid on desktop */
}

.file-list-item-icon {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  flex-shrink: 0;
  color: var(--color-text-primary);
}

.file-list-item-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
}

.file-list-item-size {
  grid-area: size;
  display: flex;
  align-items: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.file-list-item-type {
  grid-area: type;
  display: flex;
  align-items: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  text-transform: lowercase;
}

.file-list-item-date {
  grid-area: date;
  display: flex;
  align-items: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

/* ==========================================================================
   Empty State
   ========================================================================== */

.empty-state {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  border: var(--border-thickness) dashed var(--color-border);
  border-radius: 0;
  margin: var(--spacing-lg);
  cursor: pointer;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.empty-state:hover {
  border-color: var(--color-green-primary);
  background-color: var(--color-green-darker);
}

.empty-state-content {
  text-align: center;
  padding: var(--spacing-lg);
}

.empty-state-icon {
  font-size: 2rem;
  display: block;
  margin-bottom: var(--spacing-md);
  color: var(--color-text-secondary);
}

.empty-state-text {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  margin: 0 0 var(--spacing-xs) 0;
  color: var(--color-text-primary);
}

.empty-state-hint {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  margin: 0;
  color: var(--color-text-secondary);
}

.empty-state-upload {
  margin-top: var(--spacing-md);
}

/* Note: Mobile responsive styles are in responsive.css */
```

Key changes:
- Replace all rgba() colors with CSS variables
- Remove border-radius (use 0 for terminal aesthetic)
- Use design token spacing variables
- Add 4-column grid for file list (NAME, SIZE, TYPE, MODIFIED)
- Add green border around file list
- Add left border highlight for selected/active items
  </action>
  <verify>Check file contains `var(--color-green-primary)` and `grid-template-columns: 1fr 120px 120px 180px`</verify>
  <done>File browser CSS uses design tokens, has green borders, and shows 4-column layout per design</done>
</task>

<task type="auto">
  <name>Task 2: Restyle breadcrumbs.css with terminal aesthetic</name>
  <files>apps/web/src/styles/breadcrumbs.css</files>
  <action>
Replace the entire breadcrumbs.css with terminal-styled version using design tokens.

```css
/**
 * Breadcrumb Navigation Styles - Terminal Aesthetic
 *
 * Per design: Terminal-style path display like ~/storage/documents/projects
 * Shows current folder path with back navigation
 */

/* ==========================================================================
   Breadcrumbs Container
   ========================================================================== */

.breadcrumbs {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xs) 0;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  min-height: 2.5rem;
  color: var(--color-text-primary);
}

/* Terminal-style path prefix */
.breadcrumbs::before {
  content: "~/";
  color: var(--color-text-secondary);
}

/* ==========================================================================
   Back Button
   ========================================================================== */

.breadcrumbs-back {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  padding: 0;
  background-color: transparent;
  border: var(--border-thickness) solid var(--color-border);
  border-radius: 0;
  color: var(--color-text-primary);
  cursor: pointer;
  transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

.breadcrumbs-back:hover {
  background-color: var(--color-green-darker);
  box-shadow: var(--glow-green);
}

.breadcrumbs-back:focus {
  outline: 2px solid var(--color-green-primary);
  outline-offset: 2px;
}

.breadcrumbs-back:active {
  background-color: var(--color-green-darker);
}

.breadcrumbs-back-icon {
  font-size: var(--font-size-sm);
  line-height: 1;
}

/* ==========================================================================
   Path Segments
   ========================================================================== */

.breadcrumbs-separator {
  color: var(--color-text-secondary);
}

.breadcrumbs-segment {
  color: var(--color-text-secondary);
  transition: color 0.15s ease;
}

.breadcrumbs-segment:hover {
  color: var(--color-text-primary);
  cursor: pointer;
}

/* ==========================================================================
   Current Folder Name
   ========================================================================== */

.breadcrumbs-current {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 300px;
}

/* ==========================================================================
   Mobile Responsive
   ========================================================================== */

@media (max-width: 768px) {
  .breadcrumbs {
    padding: var(--spacing-xs);
  }

  .breadcrumbs-current {
    max-width: 200px;
    font-size: var(--font-size-sm);
  }
}
```

Key changes:
- Add `~/` prefix before path for terminal feel
- Remove border-radius from back button
- Use design token variables for all values
- Keep green color scheme consistent
  </action>
  <verify>Check file contains `content: "~/";` and `var(--color-text-primary)`</verify>
  <done>Breadcrumbs display terminal-style path with ~/ prefix and green accents</done>
</task>

</tasks>

<verification>
1. Navigate to file browser after login
2. Verify sidebar has green right border
3. Verify file list has green border around it
4. Verify column headers show NAME, SIZE, TYPE, MODIFIED in green
5. Verify folder tree items highlight green on hover
6. Verify breadcrumbs show terminal-style path
7. No console errors
</verification>

<success_criteria>
- File browser layout uses design tokens throughout
- Green borders visible on sidebar and file list
- Column headers match design (green, uppercase, monospace)
- Hover states show green highlights
- Breadcrumbs display terminal-style path navigation
- All existing functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-restyle-app-with-pencil-design/06.2-02-SUMMARY.md`
</output>
