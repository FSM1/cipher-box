---
phase: 06.2-restyle-app-pencil-design
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/index.html
  - apps/web/src/index.css
  - apps/web/src/App.css
autonomous: true

must_haves:
  truths:
    - "JetBrains Mono font loads on page render"
    - "All text uses monospace typography"
    - "Background is pure black (#000000)"
    - "Primary accent color is green (#00D084)"
  artifacts:
    - path: "apps/web/index.html"
      provides: "Google Fonts CDN link for JetBrains Mono"
      contains: "JetBrains+Mono"
    - path: "apps/web/src/index.css"
      provides: "CSS custom properties (design tokens)"
      contains: "--color-green-primary"
  key_links:
    - from: "apps/web/index.html"
      to: "fonts.googleapis.com"
      via: "link preconnect and stylesheet"
      pattern: "fonts\\.googleapis\\.com.*JetBrains"
    - from: "apps/web/src/index.css"
      to: "all CSS files"
      via: "CSS variable inheritance"
      pattern: "--color-|--font-|--spacing-"
---

<objective>
Establish design tokens and typography foundation for terminal/hacker aesthetic.

Purpose: All subsequent styling plans depend on these CSS variables and font being available. This plan creates the foundation that enables consistent styling across all components.

Output: Design tokens in :root, JetBrains Mono font loaded, base dark theme applied.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-CONTEXT.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add JetBrains Mono font to index.html</name>
  <files>apps/web/index.html</files>
  <action>
Add Google Fonts preconnect and stylesheet links in the `<head>` section, BEFORE the `<title>` tag:

```html
<!-- Preconnect to Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Load JetBrains Mono (400, 600, 700 weights) -->
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
```

Weights needed per design:
- 400 (normal) - body text, breadcrumbs, user email
- 600 (semibold) - app name, column headers, button text
- 700 (bold) - prompt symbol `>`
  </action>
  <verify>Open apps/web/index.html and confirm the font links are present before the title tag</verify>
  <done>JetBrains Mono font links present in HTML head with preconnect for fast loading</done>
</task>

<task type="auto">
  <name>Task 2: Create design tokens in index.css</name>
  <files>apps/web/src/index.css</files>
  <action>
Replace the entire index.css with design tokens and base styles. Remove the old Inter font family and gray backgrounds.

```css
/* ==========================================================================
   Design Tokens - Terminal/Hacker Aesthetic
   ========================================================================== */

:root {
  /* Color Primitives */
  --color-black: #000000;
  --color-green-primary: #00D084;
  --color-green-dim: #006644;
  --color-green-darker: #003322;
  --color-green-glow: #00D08466; /* 40% opacity for shadows */

  /* Semantic Colors - Error/Warning */
  --color-error: #EF4444;
  --color-error-dim: #7F1D1D;
  --color-warning: #F59E0B;
  --color-warning-dim: #78350F;

  /* Background & Text */
  --color-background: var(--color-black);
  --color-border: var(--color-green-primary);
  --color-border-dim: var(--color-green-darker);
  --color-text-primary: var(--color-green-primary);
  --color-text-secondary: var(--color-green-dim);

  /* Typography */
  --font-family-mono: "JetBrains Mono", monospace;
  --font-size-xs: 10px;   /* Status text */
  --font-size-sm: 11px;   /* Body, buttons, file list */
  --font-size-md: 14px;   /* App name */
  --font-size-lg: 18px;   /* Prompt symbol */
  --font-size-xl: 24px;   /* Login logo */

  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Spacing (from design file) */
  --spacing-xs: 8px;
  --spacing-sm: 12px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* Effects */
  --glow-green: 0 0 10px var(--color-green-glow);
  --border-thickness: 1px;

  /* Remove color-scheme to enforce dark mode only */
  color-scheme: dark;
}

/* ==========================================================================
   Global Resets
   ========================================================================== */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ==========================================================================
   Base Styles
   ========================================================================== */

html {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  line-height: 1.5;
  font-weight: var(--font-weight-normal);
  color: var(--color-text-primary);
  background-color: var(--color-background);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  min-height: 100vh;
}

#root {
  width: 100%;
  min-height: 100vh;
}

/* Links */
a {
  color: var(--color-text-primary);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* Focus styles for accessibility */
:focus-visible {
  outline: 2px solid var(--color-green-primary);
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: var(--color-green-primary);
  color: var(--color-black);
}
```

Key changes from old index.css:
- Remove Inter font, use JetBrains Mono exclusively
- Remove `place-items: center` from body (was centering content)
- Change background from #242424 to pure black #000000
- Change text color to green #00D084
- Add all design tokens as CSS variables
  </action>
  <verify>Run `grep -c "JetBrains Mono" apps/web/src/index.css` - should return 1. Run `grep -c "#00D084" apps/web/src/index.css` - should return at least 1.</verify>
  <done>index.css contains complete design token system with colors, typography, spacing, and effects</done>
</task>

<task type="auto">
  <name>Task 3: Restyle login page in App.css</name>
  <files>apps/web/src/App.css</files>
  <action>
Update App.css to restyle the login page to terminal aesthetic. Keep the CSS imports at the top. Replace login-related styles with new terminal design.

Update these sections:

1. Keep the CSS imports at the very top (unchanged):
```css
/* Import component styles */
@import './styles/file-browser.css';
@import './styles/breadcrumbs.css';
@import './styles/responsive.css';
```

2. Replace `.login-container` and related styles with:
```css
/* ==========================================================================
   Login Page - Terminal Aesthetic
   ========================================================================== */

.login-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: var(--spacing-lg);
  text-align: center;
  position: relative;
  overflow: hidden;
}

/* Logo: > CIPHERBOX with terminal prompt */
.login-container h1 {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-xs);
  letter-spacing: 0.05em;
}

.login-container h1::before {
  content: "> ";
  color: var(--color-text-primary);
}

/* Tagline */
.login-container .tagline {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-md);
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.login-container .login-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
  max-width: 400px;
}

/* Terminal-style connect button */
.login-button {
  padding: var(--spacing-sm) var(--spacing-lg);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  background-color: var(--color-green-primary);
  color: var(--color-black);
  border: none;
  border-radius: 0; /* Sharp corners for terminal aesthetic */
  cursor: pointer;
  transition: box-shadow 0.2s ease, transform 0.1s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.login-button:hover {
  box-shadow: var(--glow-green);
  transform: translateY(-1px);
}

.login-button:active {
  transform: translateY(0);
}

.login-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.login-note {
  margin-top: var(--spacing-lg);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
}
```

3. Update dashboard styles to use design tokens:
```css
/* ==========================================================================
   Dashboard Layout
   ========================================================================== */

.dashboard-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--color-background);
}

.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: var(--border-thickness) solid var(--color-border);
  background-color: var(--color-background);
}

/* Header branding: > CIPHERBOX */
.dashboard-header h1,
.dashboard-header .app-title {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.logout-link {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  text-decoration: none;
  text-transform: lowercase;
}

.logout-link:hover {
  color: var(--color-text-primary);
  text-decoration: none;
}

.dashboard-main {
  display: flex;
  flex: 1;
  background-color: var(--color-background);
}

.placeholder-text {
  color: var(--color-text-secondary);
  font-style: normal;
  margin-top: var(--spacing-md);
}
```

4. Update API Status Indicator to use design tokens:
```css
/* ==========================================================================
   API Status Indicator
   ========================================================================== */

.api-status {
  position: fixed;
  bottom: var(--spacing-md);
  right: var(--spacing-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  text-transform: lowercase;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.status-dot.online {
  background-color: var(--color-green-primary);
  box-shadow: 0 0 6px var(--color-green-primary);
}

.status-dot.offline {
  background-color: var(--color-error);
  box-shadow: 0 0 6px var(--color-error);
}

.status-dot.loading {
  background-color: var(--color-text-secondary);
}
```
  </action>
  <verify>Run `pnpm --filter web dev` and visually check the login page loads with black background, green text, and JetBrains Mono font</verify>
  <done>Login page displays terminal aesthetic with > CIPHERBOX branding, green-on-black theme, and [CONNECT] style button</done>
</task>

</tasks>

<verification>
1. `pnpm --filter web dev` starts without errors
2. Login page shows:
   - Black background (#000000)
   - Green text (#00D084)
   - JetBrains Mono font (monospace)
   - "> CIPHERBOX" title with prompt
   - Green connect button with sharp corners
3. Browser DevTools shows JetBrains Mono loaded in Network tab
4. CSS variables are visible in :root when inspecting any element
</verification>

<success_criteria>
- JetBrains Mono font loads successfully from Google Fonts CDN
- All design tokens defined as CSS custom properties in :root
- Login page displays terminal/hacker aesthetic (dark mode, green accents)
- No console errors or font loading failures
- Existing functionality unchanged (login still works)
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-restyle-app-with-pencil-design/06.2-01-SUMMARY.md`
</output>
