---
phase: 06.2-restyle-app-pencil-design
plan: 03
type: execute
wave: 2
depends_on: ["06.2-01"]
files_modified:
  - apps/web/src/styles/context-menu.css
  - apps/web/src/styles/dialogs.css
  - apps/web/src/styles/modal.css
  - apps/web/src/styles/upload.css
autonomous: true

must_haves:
  truths:
    - "Context menus have green border and black background"
    - "Dialogs use monospace font and green accents"
    - "Modal overlays have terminal-style appearance"
    - "Upload zone and progress use green color scheme"
    - "All interactive elements show green glow on hover/focus"
  artifacts:
    - path: "apps/web/src/styles/context-menu.css"
      provides: "Terminal-styled context menu"
      contains: "var(--color-border)"
    - path: "apps/web/src/styles/dialogs.css"
      provides: "Terminal-styled dialog components"
      contains: "var(--font-family-mono)"
    - path: "apps/web/src/styles/modal.css"
      provides: "Terminal-styled modal overlay"
      contains: "var(--color-green-primary)"
    - path: "apps/web/src/styles/upload.css"
      provides: "Terminal-styled upload UI"
      contains: "var(--color-text-primary)"
  key_links:
    - from: "apps/web/src/styles/*.css"
      to: "apps/web/src/index.css"
      via: "CSS variable references"
      pattern: "var\\(--"
---

<objective>
Restyle context menus, dialogs, modals, and upload UI to match terminal aesthetic.

Purpose: These overlay components need consistent styling with the main UI. They appear during user interactions (right-click, file operations, uploads) and must maintain the green-on-black terminal theme.

Output: Terminal-styled overlays with green borders, monospace text, and proper design token usage throughout.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-CONTEXT.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-RESEARCH.md
@.planning/phases/06.2-restyle-app-with-pencil-design/06.2-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle context-menu.css</name>
  <files>apps/web/src/styles/context-menu.css</files>
  <action>
Replace the entire context-menu.css with terminal-styled version. Remove light mode and prefers-color-scheme queries.

```css
/**
 * Context Menu Styles - Terminal Aesthetic
 *
 * Right-click menu for file/folder actions
 * Green border, black background, monospace font
 */

/* ==========================================================================
   Context Menu Container
   ========================================================================== */

.context-menu {
  position: absolute;
  z-index: 1100;
  min-width: 180px;
  padding: var(--spacing-xs) 0;
  overflow: hidden;
  background-color: var(--color-background);
  border: var(--border-thickness) solid var(--color-border);
  border-radius: 0;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), var(--glow-green);
}

/* ==========================================================================
   Menu Item
   ========================================================================== */

.context-menu-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  width: 100%;
  padding: var(--spacing-xs) var(--spacing-sm);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  text-align: left;
  cursor: pointer;
  background: transparent;
  border: none;
  transition: background-color 0.15s ease;
}

.context-menu-item:hover,
.context-menu-item:focus {
  background-color: var(--color-green-darker);
  outline: none;
}

.context-menu-item:focus-visible {
  outline: 2px solid var(--color-green-primary);
  outline-offset: -2px;
}

/* ==========================================================================
   Menu Item Icon
   ========================================================================== */

.context-menu-item-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

/* ==========================================================================
   Destructive Action (Delete)
   ========================================================================== */

.context-menu-item--destructive {
  color: var(--color-error);
}

.context-menu-item--destructive .context-menu-item-icon {
  color: var(--color-error);
}

.context-menu-item--destructive:hover,
.context-menu-item--destructive:focus {
  background-color: var(--color-error-dim);
}

/* ==========================================================================
   Divider
   ========================================================================== */

.context-menu-divider {
  height: 1px;
  margin: var(--spacing-xs) 0;
  background-color: var(--color-border-dim);
}
```

Key changes:
- Remove all light mode CSS and prefers-color-scheme queries
- Use design token variables
- Remove border-radius
- Add green glow to box-shadow
  </action>
  <verify>Check file does NOT contain `@media (prefers-color-scheme` and contains `var(--color-border)`</verify>
  <done>Context menu has terminal styling with green border, black background, no light mode</done>
</task>

<task type="auto">
  <name>Task 2: Restyle dialogs.css</name>
  <files>apps/web/src/styles/dialogs.css</files>
  <action>
Replace the entire dialogs.css with terminal-styled version. Remove light mode defaults and prefers-color-scheme queries.

```css
/**
 * Dialog Styles - Terminal Aesthetic
 *
 * Dialog content for rename, delete confirmation, etc.
 * Green accents, monospace font, dark only
 */

/* ==========================================================================
   Dialog Content
   ========================================================================== */

.dialog-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

/* ==========================================================================
   Dialog Message
   ========================================================================== */

.dialog-message {
  margin: 0;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  line-height: 1.6;
  color: var(--color-text-primary);
}

/* ==========================================================================
   Dialog Field
   ========================================================================== */

.dialog-field {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

/* ==========================================================================
   Dialog Label
   ========================================================================== */

.dialog-label {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-secondary);
}

/* ==========================================================================
   Dialog Input
   ========================================================================== */

.dialog-input {
  width: 100%;
  padding: var(--spacing-xs) var(--spacing-sm);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  line-height: 1.5;
  color: var(--color-text-primary);
  background-color: var(--color-background);
  border: var(--border-thickness) solid var(--color-border);
  border-radius: 0;
  outline: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.dialog-input:focus {
  border-color: var(--color-green-primary);
  box-shadow: var(--glow-green);
}

.dialog-input--error {
  border-color: var(--color-error);
}

.dialog-input--error:focus {
  border-color: var(--color-error);
  box-shadow: 0 0 10px rgba(239, 68, 68, 0.4);
}

.dialog-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.dialog-input::placeholder {
  color: var(--color-text-secondary);
}

/* ==========================================================================
   Dialog Error
   ========================================================================== */

.dialog-error {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-error);
}

/* ==========================================================================
   Dialog Actions
   ========================================================================== */

.dialog-actions {
  display: flex;
  gap: var(--spacing-sm);
  justify-content: flex-end;
  margin-top: var(--spacing-xs);
}

/* ==========================================================================
   Dialog Button Base
   ========================================================================== */

.dialog-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-xs) var(--spacing-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-normal);
  line-height: 1.5;
  border: none;
  border-radius: 0;
  cursor: pointer;
  transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

.dialog-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.dialog-button:focus-visible {
  outline: 2px solid var(--color-green-primary);
  outline-offset: 2px;
}

/* ==========================================================================
   Secondary Button (Cancel)
   ========================================================================== */

.dialog-button--secondary {
  color: var(--color-text-primary);
  background-color: transparent;
  border: var(--border-thickness) solid var(--color-border);
}

.dialog-button--secondary:hover:not(:disabled) {
  background-color: var(--color-green-darker);
  box-shadow: var(--glow-green);
}

/* ==========================================================================
   Primary Button (Confirm)
   ========================================================================== */

.dialog-button--primary {
  color: var(--color-black);
  background-color: var(--color-green-primary);
  font-weight: var(--font-weight-semibold);
}

.dialog-button--primary:hover:not(:disabled) {
  box-shadow: var(--glow-green);
}

/* ==========================================================================
   Destructive Button (Delete)
   ========================================================================== */

.dialog-button--destructive {
  color: var(--color-black);
  background-color: var(--color-error);
  font-weight: var(--font-weight-semibold);
}

.dialog-button--destructive:hover:not(:disabled) {
  box-shadow: 0 0 10px rgba(239, 68, 68, 0.6);
}
```

Key changes:
- Remove ALL light mode CSS (:root defaults and @media prefers-color-scheme)
- Use design token variables throughout
- Remove border-radius on all elements
- Add green glow effects on focus/hover
  </action>
  <verify>Check file does NOT contain `@media (prefers-color-scheme` and does NOT contain `#ffffff`</verify>
  <done>Dialog styles use terminal aesthetic with green accents, no light mode</done>
</task>

<task type="auto">
  <name>Task 3: Restyle modal.css and upload.css</name>
  <files>apps/web/src/styles/modal.css, apps/web/src/styles/upload.css</files>
  <action>
First, replace modal.css:

```css
/**
 * Modal Styles - Terminal Aesthetic
 *
 * Modal overlay and container for dialogs
 * Green border, black background, terminal feel
 */

/* ==========================================================================
   Modal Backdrop
   ========================================================================== */

.modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(4px);
}

/* ==========================================================================
   Modal Container
   ========================================================================== */

.modal-container {
  position: relative;
  width: 100%;
  max-width: 500px;
  max-height: 90vh;
  margin: var(--spacing-md);
  overflow: hidden;
  background-color: var(--color-background);
  border: var(--border-thickness) solid var(--color-border);
  border-radius: 0;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), var(--glow-green);
}

/* ==========================================================================
   Modal Header
   ========================================================================== */

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md);
  border-bottom: var(--border-thickness) solid var(--color-border-dim);
}

.modal-title {
  margin: 0;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-primary);
}

/* ==========================================================================
   Modal Close Button
   ========================================================================== */

.modal-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  padding: 0;
  margin-left: auto;
  font-size: 1.25rem;
  font-weight: var(--font-weight-normal);
  line-height: 1;
  color: var(--color-text-secondary);
  cursor: pointer;
  background: transparent;
  border: var(--border-thickness) solid var(--color-border);
  border-radius: 0;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.modal-close:hover {
  background-color: var(--color-green-darker);
  color: var(--color-text-primary);
}

.modal-close:focus {
  outline: 2px solid var(--color-green-primary);
  outline-offset: 2px;
}

/* ==========================================================================
   Modal Body
   ========================================================================== */

.modal-body {
  padding: var(--spacing-md);
  overflow-y: auto;
  max-height: calc(90vh - 80px);
  color: var(--color-text-primary);
}
```

Then, replace upload.css:

```css
/**
 * Upload Styles - Terminal Aesthetic
 *
 * Upload zone (drag-drop) and upload modal progress
 * Green accents, terminal feel
 */

/* ==========================================================================
   Upload Zone
   ========================================================================== */

.upload-zone-wrapper {
  width: 100%;
}

.upload-zone {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 120px;
  padding: var(--spacing-lg);
  border: var(--border-thickness) dashed var(--color-border);
  border-radius: 0;
  background-color: var(--color-background);
  cursor: pointer;
  transition: border-color 0.15s ease, background-color 0.15s ease;
}

.upload-zone:hover {
  border-color: var(--color-green-primary);
  background-color: var(--color-green-darker);
}

.upload-zone:focus-within {
  outline: 2px solid var(--color-green-primary);
  outline-offset: 2px;
}

/* Active drop state */
.upload-zone-active {
  border-color: var(--color-green-primary);
  border-style: solid;
  background-color: var(--color-green-darker);
  box-shadow: var(--glow-green);
}

/* Uploading state */
.upload-zone-uploading {
  cursor: default;
  opacity: 0.7;
}

/* Content */
.upload-zone-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  text-align: center;
  color: var(--color-text-secondary);
}

.upload-zone-icon {
  font-size: 2rem;
  line-height: 1;
  color: var(--color-text-secondary);
}

.upload-zone-text {
  margin: 0;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
}

/* Error message */
.upload-zone-error {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-xs);
  padding: var(--spacing-sm);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-error);
  background-color: var(--color-error-dim);
  border: var(--border-thickness) solid var(--color-error);
  border-radius: 0;
}

.upload-zone-error-dismiss {
  padding: 0;
  font-size: 1rem;
  font-weight: var(--font-weight-normal);
  line-height: 1;
  color: inherit;
  cursor: pointer;
  background: transparent;
  border: none;
  opacity: 0.7;
}

.upload-zone-error-dismiss:hover {
  opacity: 1;
}

/* ==========================================================================
   Upload Modal
   ========================================================================== */

.upload-modal-content {
  min-width: 400px;
}

.upload-modal-progress {
  margin-bottom: var(--spacing-md);
}

.upload-modal-overall {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-xs);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
}

/* Upload item list */
.upload-item-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  max-height: 300px;
  overflow-y: auto;
}

/* Individual upload item */
.upload-item {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm);
  background-color: var(--color-green-darker);
  border: var(--border-thickness) solid var(--color-border-dim);
  border-radius: 0;
}

.upload-item-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-xs);
}

.upload-item-info {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  flex: 1;
  min-width: 0;
}

.upload-item-icon {
  flex-shrink: 0;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.upload-item-name {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
}

.upload-item-actions {
  display: flex;
  gap: var(--spacing-xs);
}

.upload-item-cancel,
.upload-item-retry {
  padding: var(--spacing-xs);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  cursor: pointer;
  border: none;
  border-radius: 0;
  transition: background-color 0.15s ease;
}

.upload-item-cancel {
  color: var(--color-text-primary);
  background-color: transparent;
  border: var(--border-thickness) solid var(--color-border);
}

.upload-item-cancel:hover {
  background-color: var(--color-green-darker);
}

.upload-item-retry {
  color: var(--color-black);
  background-color: var(--color-green-primary);
}

.upload-item-retry:hover {
  box-shadow: var(--glow-green);
}

/* Progress bar */
.upload-item-progress-bar {
  height: 4px;
  background-color: var(--color-border-dim);
  border-radius: 0;
  overflow: hidden;
}

.upload-item-progress-fill {
  height: 100%;
  background-color: var(--color-green-primary);
  transition: width 0.2s ease;
}

.upload-item-progress-fill[data-status='complete'] {
  background-color: var(--color-green-primary);
}

.upload-item-progress-fill[data-status='error'] {
  background-color: var(--color-error);
}

/* Status text */
.upload-item-status {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
}

.upload-item-status[data-status='complete'] {
  color: var(--color-green-primary);
}

.upload-item-status[data-status='error'] {
  color: var(--color-error);
}

/* Modal actions */
.upload-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-md);
  padding-top: var(--spacing-md);
  border-top: var(--border-thickness) solid var(--color-border-dim);
}

.upload-modal-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  cursor: pointer;
  border: none;
  border-radius: 0;
  transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

.upload-modal-btn-cancel {
  color: var(--color-text-primary);
  background-color: transparent;
  border: var(--border-thickness) solid var(--color-border);
}

.upload-modal-btn-cancel:hover {
  background-color: var(--color-green-darker);
}

.upload-modal-btn-close {
  color: var(--color-black);
  background-color: var(--color-green-primary);
  font-weight: var(--font-weight-semibold);
}

.upload-modal-btn-close:hover {
  box-shadow: var(--glow-green);
}
```

Key changes for both files:
- Remove ALL light mode CSS and @media prefers-color-scheme queries
- Use design token variables throughout
- Remove all border-radius values
- Add green glow effects
  </action>
  <verify>Check neither file contains `@media (prefers-color-scheme` and both contain `var(--color-green-primary)`</verify>
  <done>Modal and upload styles use terminal aesthetic with green accents, no light mode</done>
</task>

</tasks>

<verification>
1. Right-click a file to open context menu - should have green border, black background
2. Click rename on a file - dialog should have terminal styling
3. Upload a file - upload zone should have green dashed border
4. Upload modal should show green progress bar
5. Delete confirmation should have proper button styling (red for delete)
6. No light mode colors visible anywhere
</verification>

<success_criteria>
- All overlay components use design tokens
- Context menus have green border on black background
- Dialogs use monospace font throughout
- Upload UI shows green progress indicators
- No light mode CSS remains (no prefers-color-scheme queries)
- All border-radius values are 0 (sharp corners)
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-restyle-app-with-pencil-design/06.2-03-SUMMARY.md`
</output>
